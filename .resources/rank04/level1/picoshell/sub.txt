[EN]
Assignment name:	picoshell
Expected files:		picoshell.c
Allowed functions:	close, fork, wait, exit, execvp, dup2, pipe
___________________________________________________________________

Write the following function:

int    picoshell(char **cmds[]);

The goal of this function is to execute a pipeline. It must execute each
commands of cmds and connect the output of one to the input of the
next command (just like a shell).
e
Cmds contains a null-terminated list of valid commands. Each rows
of cmds are an argv array directly usable for a call to execvp. The first
arguments of each command is the command name or path and can be passed
directly as the first argument of execvp.

If any error occur, The function must return 1 (you must of course
close all the open fds before). otherwise the function must wait all child
processes and return 0. You will find in this directory a file main.c which
contain something to help you test your function.


Examples:
./picoshell /bin/ls "|" /usr/bin/grep picoshell
picoshell
./picoshell echo 'squalala' "|" cat "|" sed 's/a/b/g'
squblblb

___________________________________________________________________

Old summary by a student:
You are given a main function. It converts received arguments into cmds array
of strings. When there is a pipe the commands after the pipe are in the next
array of strings. You have to create a pipeline using the cmds you receive from
the main, and execute them. If there is any error the function should return 1.
Close all FFS before returning. If the cmds executed successfully wait all
child processes and return 0.

[JA]
課題名:		picoshell
提出ファイル:	picoshell.c
使用可能な関数:	close, fork, wait, exit, execvp, dup2, pipe
___________________________________________________________________

以下の関数を作成してください:

int    picoshell(char **cmds[]);

この関数の目的は、パイプラインを実行することです。cmds の各コマンドを
実行し、あるコマンドの出力を次のコマンドの入力に接続する必要があります
(シェルと同じように)。

cmds には、null で終了する有効なコマンドのリストが含まれています。cmds の
各行は、execvp の呼び出しに直接使用できる argv 配列です。各コマンドの最初の
引数はコマンド名またはパスであり、execvp の最初の引数として直接渡すことができます。

エラーが発生した場合、関数は 1 を返す必要があります(もちろん、開いている
すべての fd を閉じる必要があります)。それ以外の場合、関数はすべての子
プロセスを待機し、0 を返す必要があります。このディレクトリには main.c ファイルがあり、
関数をテストするのに役立つ内容が含まれています。


例:
./picoshell /bin/ls "|" /usr/bin/grep picoshell
picoshell
./picoshell echo 'squalala' "|" cat "|" sed 's/a/b/g'
squblblb

___________________________________________________________________

学生による古い要約:
main 関数が与えられます。これは受け取った引数を cmds 文字列配列に変換します。
パイプがある場合、パイプの後のコマンドは次の文字列配列に入ります。main から受け取った
cmds を使用してパイプラインを作成し、それらを実行する必要があります。エラーが
発生した場合、関数は 1 を返す必要があります。戻る前にすべての FD を閉じてください。
cmds が正常に実行された場合は、すべての子プロセスを待機して 0 を返します。
